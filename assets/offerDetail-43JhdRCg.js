import{w as B}from"./with-props-Dhkh_3zV.js";import{t as x,a as s,v as _,o as a,L as z}from"./chunk-D4RADZKF-i0N5YVo9.js";import{o as R}from"./offers-DL9j8wGc.js";import{a as $}from"./index--xj4cuB_.js";function F(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}const A={NOT_LOADED:"NOT_LOADED",LOADED:"LOADED"},L=x.createContext(null);function W(){var t;return((t=s.useContext(L))==null?void 0:t.status)||A.NOT_LOADED}function H(){return W()===A.LOADED}const G=x.createContext(null),O=new Set;function J(...t){const e=JSON.stringify(t);O.has(e)||(O.add(e),console.error(...t))}const w=(t=null)=>{const e=s.useContext(L),{map:n}=s.useContext(G)||{};if(e===null)return J("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function U(t){const e=H(),n=s.useContext(L);return s.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function k(t,e,n){s.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function D(t,e,n){s.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function j(t,e,n){s.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}function P(t){return t.nodeType===Node.ELEMENT_NODE}const V=x.createContext(null),q={BOTTOM:["50%","100%"]},K=({children:t,styles:e,className:n,anchorPoint:r})=>{const[c,l]=r??q.BOTTOM;let o=`-${c}`,u=`-${l}`;c.trimStart().startsWith("-")&&(o=c.substring(1)),l.trimStart().startsWith("-")&&(u=l.substring(1));const d=`translate(50%, 100%) translate(${o}, ${u})`;return x.createElement("div",{style:{transform:d}},x.createElement("div",{className:n,style:e},t))};function Q(t){const[e,n]=s.useState(null),[r,c]=s.useState(null),l=w(),o=U("marker"),{children:u,onClick:d,className:g,onMouseEnter:m,onMouseLeave:v,onDrag:p,onDragStart:i,onDragEnd:f,collisionBehavior:I,clickable:C,draggable:N,position:S,title:b,zIndex:T}=t,M=s.Children.count(u);return s.useEffect(()=>{if(!l||!o)return;const h=new o.AdvancedMarkerElement;h.map=l,n(h);let E=null;return M>0&&(E=document.createElement("div"),E.isCustomMarker=!0,h.content=E,c(E)),()=>{var y;h.map=null,(y=E)==null||y.remove(),n(null),c(null)}},[l,o,M]),s.useEffect(()=>{!(e!=null&&e.content)||!P(e.content)||M>0||(e.content.className=g??"")},[e,g,M]),D(e,"position",S),D(e,"title",b??""),D(e,"zIndex",T),D(e,"collisionBehavior",I),s.useEffect(()=>{e&&(N!==void 0?e.gmpDraggable=N:p||i||f?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,N,p,f,i]),s.useEffect(()=>{if(!e)return;const h=C!==void 0||!!d||!!m||!!v;e.gmpClickable=h,h&&e!=null&&e.content&&P(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,C,d,m,v]),k(e,"click",d),k(e,"drag",p),k(e,"dragstart",i),k(e,"dragend",f),j(e==null?void 0:e.element,"mouseenter",m),j(e==null?void 0:e.element,"mouseleave",v),[e,r]}s.forwardRef((t,e)=>{const{children:n,style:r,className:c,anchorPoint:l}=t,[o,u]=Q(t),d=s.useMemo(()=>o?{marker:o}:null,[o]);return s.useImperativeHandle(e,()=>o,[o]),u?x.createElement(V.Provider,{value:d},$.createPortal(x.createElement(K,{anchorPoint:l,styles:r,className:c},n),u)):null});const X=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function Y(t){const[e,n]=s.useState(null),r=w(),{onClick:c,onDrag:l,onDragStart:o,onDragEnd:u,onMouseOver:d,onMouseOut:g}=t,m=F(t,X),{position:v,draggable:p}=m;return s.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const i=new google.maps.Marker(m);return i.setMap(r),n(i),()=>{i.setMap(null),n(null)}},[r]),s.useEffect(()=>{if(!e)return;const i=e,f=google.maps.event;return c&&f.addListener(i,"click",c),l&&f.addListener(i,"drag",l),o&&f.addListener(i,"dragstart",o),u&&f.addListener(i,"dragend",u),d&&f.addListener(i,"mouseover",d),g&&f.addListener(i,"mouseout",g),e.setDraggable(!!p),()=>{f.clearInstanceListeners(i)}},[e,p,c,l,o,u,d,g]),s.useEffect(()=>{e&&m&&e.setOptions(m)},[e,m]),s.useEffect(()=>{p||!v||!e||e.setPosition(v)},[p,v,e]),e}s.forwardRef((t,e)=>{const n=Y(t);return s.useImperativeHandle(e,()=>n,[n]),x.createElement(x.Fragment,null)});const re=B(function(){const{id:e}=_(),n=R.find(r=>r.id===Number(e));return n?a.jsxs("main",{className:"bg-white",children:[a.jsx("div",{className:"h-[50vh] mt-30 flex flex-col justify-center items-center text-center overflow-hidden",children:a.jsx("img",{src:n.imageUrl,alt:n.title,className:"inset-0 w-auto h-full object-cover z-0"})}),a.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-16",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-black mb-4",children:n.title}),a.jsx("h1",{className:"text-1xl md:text-2xl text-black/90 mb-8",children:n.subtitle}),a.jsx(z,{to:"/offers",className:"back-to-btn text-sm mb-6",children:"← Back to offers"}),a.jsxs("article",{className:"prose prose-lg prose-gray text-justify",children:[a.jsx("p",{className:"details-description",children:n.description}),a.jsx("h3",{className:"mt-10 text-xl font-bold",children:"Places to visit"}),a.jsx("ul",{className:"space-y-4 mt-4",children:n.places.map((r,c)=>{const l=r.trim().replace(/^!#/,""),[o,...u]=l.split("-");return a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"block mt-1 w-3 h-3 bg-[var(--primary)] z-10 absolute rounded-full"}),a.jsxs("div",{className:"ml-6",children:[a.jsx("p",{className:"font-medium text-gray-900",children:o.trim()}),u.length>0&&a.jsx("p",{className:"text-gray-600 text-sm",children:u.join("-").trim()})]})]},c)})})]})]}),a.jsx("div",{className:"w-full h-[400px]"})]}):a.jsx("div",{className:"p-8 text-center",children:"Brak oferty o takim ID."})});export{re as default};
